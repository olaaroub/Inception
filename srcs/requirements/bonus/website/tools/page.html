<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inception Project Flowchart</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');

        :root {
            --bg-dark: #0D1117;
            --bg-medium: #161B22;
            --border-color: #30363D;
            --text-primary: #E6EDF3;
            --text-secondary: #848D97;
            --accent-blue: #58A6FF;
            --accent-green: #3FB950;
            --accent-yellow: #E3B341;
            --accent-red: #F85149;
            --accent-purple: #BC8CFF;
            --accent-orange: #F78166;
            --line-color: #484F58;
        }

        *, *::before, *::after {
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-primary);
            margin: 0;
            padding: 2rem;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            text-align: center;
        }

        .intro-section h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .intro-section p {
            font-size: 1.125rem;
            color: var(--text-secondary);
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto 4rem auto;
        }

        .flowchart {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4rem;
            position: relative;
        }

        .flow-row {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 2rem;
            width: 100%;
            flex-wrap: wrap;
        }

        .service-node {
            background-color: var(--bg-medium);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem 1.5rem;
            width: 260px;
            text-align: left;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .service-node:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            border-color: var(--accent-blue);
        }

        .node-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }

        .node-header svg {
            width: 24px;
            height: 24px;
            flex-shrink: 0;
        }

        .node-title h3 {
            margin: 0;
            font-size: 1.1rem;
            font-weight: 500;
        }
        .node-title p {
            margin: 0;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .node-details {
            font-size: 0.875rem;
            color: var(--text-secondary);
            line-height: 1.5;
            border-top: 1px solid var(--border-color);
            padding-top: 0.75rem;
        }

        .node-details strong {
            color: var(--text-primary);
            font-weight: 500;
        }

        .svg-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
            overflow: visible;
        }

        .connector-line {
            stroke: var(--line-color);
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
        }

        .footer {
            margin-top: 5rem;
            color: var(--text-secondary);
        }

        /* Icon Colors */
        .icon-user { color: var(--text-primary); }
        .icon-nginx { color: var(--accent-green); }
        .icon-wordpress { color: var(--accent-blue); }
        .icon-mariadb { color: var(--accent-yellow); }
        .icon-redis { color: var(--accent-red); }
        .icon-bonus { color: var(--accent-purple); }
        .icon-volume { color: var(--accent-orange); }

        @media (max-width: 900px) {
            .svg-canvas {
                display: none;
            }
            .flow-row {
                flex-direction: column;
                align-items: center;
                gap: 1.5rem;
            }
            .flowchart {
                gap: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <section class="intro-section">
            <h1>Inception Architecture Flowchart</h1>
            <p>A visual breakdown of the project's multi-container architecture, showing the flow of data and dependencies from the user to the underlying storage.</p>
        </section>

        <div class="flowchart" id="flowchart">
            <svg class="svg-canvas" id="svg-canvas">
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="8" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="var(--line-color)" />
                    </marker>
                </defs>
            </svg>

            <!-- Tier 1: User -->
            <div class="flow-row">
                <div id="user" class="service-node">
                    <div class="node-header">
                        <svg class="icon-user" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0118 21m-6 0a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                        <div class="node-title"><h3>User / Internet</h3><p>External Traffic</p></div>
                    </div>
                </div>
            </div>

            <!-- Tier 2: Entrypoint -->
            <div class="flow-row">
                <div id="nginx" class="service-node">
                     <div class="node-header">
                        <svg class="icon-nginx" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418" /></svg>
                        <div class="node-title"><h3>NGINX</h3><p>Reverse Proxy (Port 443)</p></div>
                    </div>
                    <div class="node-details"><strong>Role:</strong> The sole entry point. Handles SSL/TLS and routes requests to the appropriate service.</div>
                </div>
            </div>

            <!-- Tier 3: Application Layer -->
            <div class="flow-row">
                 <div id="wordpress" class="service-node">
                    <div class="node-header">
                        <svg class="icon-wordpress" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 18V7.125c0-.621.504-1.125 1.125-1.125H9.375m3-3.75l-1.5-1.5-1.5 1.5m3 0v4.5" /></svg>
                        <div class="node-title"><h3>WordPress</h3><p>Main Application</p></div>
                    </div>
                     <div class="node-details"><strong>Role:</strong> Dynamic PHP website, served by PHP-FPM.</div>
                </div>
                 <div id="adminer" class="service-node">
                     <div class="node-header">
                         <svg class="icon-bonus" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75" /></svg>
                        <div class="node-title"><h3>Adminer</h3><p>Bonus: DB Tool</p></div>
                    </div>
                     <div class="node-details"><strong>Role:</strong> Lightweight GUI for managing the MariaDB database.</div>
                </div>
                 <div id="portainer" class="service-node">
                     <div class="node-header">
                         <svg class="icon-bonus" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9" /></svg>
                        <div class="node-title"><h3>Portainer</h3><p>Bonus: Control Panel</p></div>
                    </div>
                     <div class="node-details"><strong>Role:</strong> GUI for managing the Docker environment itself.</div>
                </div>
                 <div id="website" class="service-node">
                    <div class="node-header">
                        <svg class="icon-bonus" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5" /></svg>
                        <div class="node-title"><h3>Static Website</h3><p>Bonus: This Page</p></div>
                    </div>
                     <div class="node-details"><strong>Role:</strong> A simple HTML/CSS page served by a minimal Nginx.</div>
                </div>
            </div>

            <!-- Tier 4: Data & Backend Layer -->
            <div class="flow-row">
                 <div id="mariadb" class="service-node">
                    <div class="node-header">
                        <svg class="icon-mariadb" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375" /></svg>
                        <div class="node-title"><h3>MariaDB</h3><p>Database</p></div>
                    </div>
                     <div class="node-details"><strong>Role:</strong> Stores all WordPress posts, user data, and settings.</div>
                </div>
                 <div id="redis" class="service-node">
                    <div class="node-header">
                         <svg class="icon-redis" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z" /></svg>
                        <div class="node-title"><h3>Redis</h3><p>Cache</p></div>
                    </div>
                     <div class="node-details"><strong>Role:</strong> Speeds up WordPress by caching database queries in RAM.</div>
                </div>
                 <div id="ftp" class="service-node">
                    <div class="node-header">
                        <svg class="icon-bonus" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.353-.026.692-.026 1.04 0 .348.026.692.026 1.04 0 1.131.094 1.976 1.057 1.976 2.192V7.5M8.25 7.5h7.5m-7.5 0l-1.096 1.096a1.125 1.125 0 01-1.591 0l-1.096-1.096M8.25 7.5a1.125 1.125 0 001.591 0l1.096-1.096m-1.096 1.096l1.096 1.096a1.125 1.125 0 001.591 0l1.096-1.096m-7.5 4.5l-1.538-1.538a1.5 1.5 0 010-2.121l1.538-1.538m7.5 0l1.538 1.538a1.5 1.5 0 000 2.121l-1.538 1.538" /></svg>
                        <div class="node-title"><h3>FTP Server</h3><p>File Transfer</p></div>
                    </div>
                     <div class="node-details"><strong>Role:</strong> Allows direct file uploads to the WordPress files volume.</div>
                </div>
            </div>

            <!-- Tier 5: Storage Layer -->
            <div class="flow-row">
                <div id="wp-files" class="service-node">
                    <div class="node-header">
                        <svg class="icon-volume" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 9.75h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5-13.5h16.5" /></svg>
                        <div class="node-title"><h3>wp-files</h3><p>WordPress Volume</p></div>
                    </div>
                    <div class="node-details"><strong>Role:</strong> Stores all WordPress code, themes, and plugins persistently. Shared by WordPress, Nginx, and FTP.</div>
                </div>
                <div id="db-data" class="service-node">
                     <div class="node-header">
                        <svg class="icon-volume" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375" /></svg>
                        <div class="node-title"><h3>db-data</h3><p>Database Volume</p></div>
                    </div>
                     <div class="node-details"><strong>Role:</strong> Stores the MariaDB database files, ensuring data is not lost on restart.</div>
                </div>
            </div>
        </div>

        <!-- <p class="footer">Built by olaaroub</p> -->
    </div>

    <script>
        function drawConnections() {
            const svg = document.getElementById('svg-canvas');
            const flowchart = document.getElementById('flowchart');
            // Clear previous lines
            svg.innerHTML = svg.querySelector('defs').outerHTML;

            if (window.innerWidth <= 900) return;

            const connections = [
                ['user', 'nginx'],
                ['nginx', 'wordpress'], ['nginx', 'adminer'], ['nginx', 'portainer'], ['nginx', 'website'],
                ['wordpress', 'mariadb'], ['wordpress', 'redis'],
                ['adminer', 'mariadb'],
                ['wordpress', 'wp-files'], ['ftp', 'wp-files'],
                ['mariadb', 'db-data']
            ];

            const flowchartRect = flowchart.getBoundingClientRect();

            connections.forEach(([fromId, toId]) => {
                const fromEl = document.getElementById(fromId);
                const toEl = document.getElementById(toId);
                if (!fromEl || !toEl) return;

                const fromRect = fromEl.getBoundingClientRect();
                const toRect = toEl.getBoundingClientRect();

                const x1 = (fromRect.left + fromRect.width / 2) - flowchartRect.left;
                const y1 = fromRect.bottom - flowchartRect.top;
                const x2 = (toRect.left + toRect.width / 2) - flowchartRect.left;
                const y2 = toRect.top - flowchartRect.top;

                const line = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                const d = `M ${x1} ${y1} C ${x1} ${y1 + 40}, ${x2} ${y2 - 40}, ${x2} ${y2}`;
                line.setAttribute('d', d);
                line.setAttribute('class', 'connector-line');
                svg.appendChild(line);
            });
        }

        window.addEventListener('load', drawConnections);
        window.addEventListener('resize', drawConnections);
    </script>
</body>
</html>

